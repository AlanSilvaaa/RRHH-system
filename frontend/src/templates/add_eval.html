<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Evaluation</title>
    <script src="{{ url_for('static', filename='javascript/dynamic_fetch.js') }}"></script>

</head>
<body>
    <h1>Add New Evaluation</h1>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul>
          {% for message in messages %}
            <li>{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <form action="/add-evaluation" method="POST" id="evaluationForm">
        <!-- Employee ID -->
        <label for="employee_id">Employee ID:</label>
        <input type="number" id="employee_id" name="employee_id" required min="1" oninput="fetchEmployeeName()"><br>

        <!-- Employee Name Display -->
        <span id="employee_name" style="font-weight: bold;">
            Employee name: Enter ID to fetch name
        </span><br>

        <!-- Evaluation Date -->
        <label for="evaluation_date">Evaluation Date:</label>
        <input type="date" id="evaluation_date" name="evaluation_date" required><br>

        <!-- Evaluator Name -->
        <label for="evaluator">Evaluator:</label>
        <input type="text" id="evaluator" name="evaluator" required><br>

        <!-- Evaluation Factor (Grade) -->
        <label for="evaluation_factor">Evaluation Factor (Grade):</label>
        <input type="number" id="evaluation_factor" name="evaluation_factor" step="0.1" min="1" max="7" required oninput="updateRating()"><br>

        <!-- Rating (Auto-completed based on Evaluation Factor) -->
        <label for="rating">Rating:</label>
        <input type="text" id="rating" name="rating" readonly><br>

        <!-- Comments -->
        <label for="comments">Comments:</label>
        <textarea id="comments" name="comments"></textarea><br>

        <button type="submit">Add Evaluation</button>
    </form>
</body>
</html>
